<!DOCTYPE html>
<html lang="en"
      xmlns:th="https://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity6"
      xmlns="http://www.w3.org/1999/html">
<title>online_library</title>
<link rel="icon" href="https://cdn.dribbble.com/users/743668/screenshots/6195879/media/a9e9d0346933cd11b4128cc3d207290d.gif" type="image/png">


<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Online Library</title>
    <link rel="stylesheet" th:href="@{../css/style.css}" href="../static/css/style.css">

</head>

<body>

<header>
    <div>
            <span class="uk-icon uk-margin-small-right">
            <img src="https://cdn.dribbble.com/users/743668/screenshots/6195879/media/a9e9d0346933cd11b4128cc3d207290d.gif" alt="icon"
                 class="nav-icon"></span>
    </div>
        </span>
    <h1>Online Library</h1>
</header>

<nav class="p_user">
    <div>
    <a th:href="@{/}">Home</a>
    <a th:href="@{/book/create}">Add Book</a>
    <a th:href="@{/cart}">
<!--        <img src="https://img.icons8.com/?size=48&id=7ykGA0wEPoEb&format=gif" alt="icon"-->
<!--                                           width="20">-->
        My Library
    </a>
    </div>
    <div class="p_user">
        <a sec:authorize="isAnonymous()" th:href="@{/user/create}">Registration</a>
        <a sec:authorize="isAnonymous()" th:href="@{/sign-in}">Sign In</a>
        <a sec:authorize="isAuthenticated()" th:href="@{/user/profile/{id}(id=${user})}">Profile</a>
    </div>
</nav>

<main>
<form th:action="@{/search}" method="get">
    <section id="search">
        <label for="searchInput">Search:</label>
        <input type="text" name="name" id="searchInput" placeholder="Enter book title or author">
        <button>Search</button>
    </section>
</form>
<!--    <form th:action="@{/book}" method="get">-->
<!--        <button>All Books</button>-->
<!--    </form>-->


    <h1>Books</h1>
    <section id="bookList">
    <div class="book" th:if="${books}!=null"  th:each="book: ${books}">
        <div class="book-details">
<!--            <img th:src="${userPic}" alt="Avatar" class="avatar">-->
            <h3 th:text="${book.name}"></h3>
            <p th:text="${book.author}"></p>
            <a th:href="@{book/{bookId}(bookId=${book.id})}">
                <button >Details</button>
            </a>
            <br>
            <br>
<!--            <a sec:authorize="isAuthenticated()" th:if="${#authentication.getAuthorities().forEach()}"  th:href="@{book/{bookId}/update(bookId=${book.id})}">-->
<!--                <button >Edit Book</button>-->
<!--            </a>-->
<!--            <a sec:authorize="hasRole('ADMIN')">you cant update</a>-->
<!--            <a th:if="${#authorization.expression('hasRole(''ROLE_USER'')')}" th:href="@{book/{bookId}/update(bookId=${book.id})}">-->
<!--                <button>Edit Book</button>-->
<!--            </a>-->

        </div>
    </div>
</section>
</main>
<footer>
    <div class="uk-section uk-section-secondary uk-light">
        <div class="uk-container">
            <h3>contact us</h3>
        <div class="uk-grid-match uk-child-width-1-3@m" uk-grid>
                <span class="uk-icon uk-margin-small-right">
                    <img src="https://media.tenor.com/zVNzIFTdYIEAAAAj/call.gif" alt="icon"
                         class="custom-icon">
                </span>
                <a>
                +998 88 202 88  89
                </a>
<br>
            <br>
                <span class="uk-icon uk-margin-small-right">
                    <img src="https://img.icons8.com/?size=48&id=7jrHorBRorpX&format=gif" alt="icon"
                         class="custom-icon">
                </span>
                <a data-toggle="tooltip" data-tooltip-class="icons-menu-tooltip-61" data-placement="top" title=""
                   href="https://t.me/husniddin_01_11" target="_blank" data-original-title="Telegram">
                    <span class="links-text">Telegram</span>
                </a>
        </div>
    </div>
    </div>
    </div>
</footer>
</body>
</html>
